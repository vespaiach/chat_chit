<div class="w-box mx-auto bg-white border-t border-t-white">

	<div class="mb-6 mt-4 pt-1 px-2 sticky top-0 z-10 bg-white" data-controller="top-menu">
		<div class="py-1 my-1 rounded-md shadow">
			<div class="flex items-center gap-1 text-stone-500">
				<%= render(::IconButtonComponent.new(href: '/')) do %>
				<svg xmlns="http://www.w3.org/2000/svg" height="1.3em" fill="currentColor" viewBox="0 0 512 512">
					<path
								d="M 511.11265164644715 256.4436741767764 Q 510.2253032928943 267.9792027729636 502.23916811091857 275.96533795493934 L 502.23916811091857 275.96533795493934 L 502.23916811091857 275.96533795493934 Q 494.2530329289428 283.95147313691507 482.71750433275565 284.8388214904679 L 454.3223570190641 284.8388214904679 L 454.3223570190641 284.8388214904679 L 455.209705372617 426.81455805892546 L 455.209705372617 426.81455805892546 Q 454.3223570190641 430.3639514731369 454.3223570190641 433.91334488734833 L 454.3223570190641 448.11091854419413 L 454.3223570190641 448.11091854419413 Q 454.3223570190641 463.19584055459273 443.6741767764298 472.95667244367417 Q 433.91334488734833 483.6048526863085 418.82842287694973 483.6048526863085 L 404.630849220104 483.6048526863085 L 404.630849220104 483.6048526863085 Q 402.8561525129983 483.6048526863085 401.9688041594454 483.6048526863085 Q 400.19410745233967 483.6048526863085 398.41941074523396 483.6048526863085 L 369.1369150779896 483.6048526863085 L 347.840554592721 483.6048526863085 Q 332.75563258232233 483.6048526863085 322.9948006932409 472.95667244367417 Q 312.34662045060657 463.19584055459273 312.34662045060657 448.11091854419413 L 312.34662045060657 426.81455805892546 L 312.34662045060657 426.81455805892546 L 312.34662045060657 370.02426343154247 L 312.34662045060657 370.02426343154247 Q 312.34662045060657 357.6013864818024 304.36048526863084 349.6152512998267 Q 296.3743500866551 341.62911611785097 283.95147313691507 341.62911611785097 L 227.16117850953205 341.62911611785097 L 227.16117850953205 341.62911611785097 Q 214.73830155979203 341.62911611785097 206.75216637781628 349.6152512998267 Q 198.76603119584055 357.6013864818024 198.76603119584055 370.02426343154247 L 198.76603119584055 426.81455805892546 L 198.76603119584055 426.81455805892546 L 198.76603119584055 448.11091854419413 L 198.76603119584055 448.11091854419413 Q 198.76603119584055 463.19584055459273 188.11785095320624 472.95667244367417 Q 178.35701906412478 483.6048526863085 163.27209705372616 483.6048526863085 L 141.97573656845753 483.6048526863085 L 113.58058925476602 483.6048526863085 Q 112.69324090121317 483.6048526863085 111.8058925476603 483.6048526863085 Q 110.91854419410745 483.6048526863085 110.03119584055459 483.6048526863085 Q 108.25649913344887 483.6048526863085 106.48180242634315 483.6048526863085 L 92.2842287694974 483.6048526863085 L 92.2842287694974 483.6048526863085 Q 77.19930675909879 483.6048526863085 67.43847487001733 472.95667244367417 Q 56.79029462738301 463.19584055459273 56.79029462738301 448.11091854419413 L 56.79029462738301 348.72790294627384 L 56.79029462738301 348.72790294627384 Q 56.79029462738301 347.840554592721 56.79029462738301 346.06585788561523 L 56.79029462738301 284.8388214904679 L 56.79029462738301 284.8388214904679 L 28.395147313691506 284.8388214904679 L 28.395147313691506 284.8388214904679 Q 15.972270363951473 283.95147313691507 7.986135181975737 275.96533795493934 Q 0 267.9792027729636 0 256.4436741767764 Q 0 244.02079722703638 8.873483535528596 235.1473136915078 L 236.03466204506066 36.38128249566724 L 236.03466204506066 36.38128249566724 Q 245.79549393414212 28.395147313691506 255.55632582322357 29.28249566724437 Q 266.2045060658579 29.28249566724437 274.19064124783364 35.493934142114384 L 501.35181975736566 235.1473136915078 L 501.35181975736566 235.1473136915078 Q 512 244.02079722703638 511.11265164644715 256.4436741767764 L 511.11265164644715 256.4436741767764 Z" />
				</svg>
				<% end %>
				<%= render(::IconButtonComponent.new(
							options: {
								'data-top-menu-target': 'button',
								'data-action': 'click->top-menu#toggle'
							}
						)) do %>
				<div class="hamburger-button w-6 h-6" data-top-menu-target="hamburger">
					<span class="hamburger-line line-1"></span>
					<span class="hamburger-line line-2"></span>
					<span class="hamburger-line line-3"></span>
				</div>
				<% end %>
			</div>

			<div data-top-menu-target="menu"
					 class="h-56 transition-all duration-300 flex flex-col justify-between overflow-hidden h-0!">
				<%= render(::LogoComponent.new(size: 'large', options: { class: 'mt-8' })) %>
				<ul>
					<li>
						<a href="<%= profile_path %>"
							 class="font-sans px-6 py-3 text-base text-gray-700 hover:bg-gray-100 flex items-center justify-between">
							<span class="font-bold">Edit Profile</span>
							<svg xmlns="http://www.w3.org/2000/svg" height="1em" fill="currentColor" class="text-stone-500"
									 viewBox="0 0 512 512">
								<path
											d="M 455.1111111111111 99.55555555555556 Q 468.44444444444446 100.44444444444444 469.3333333333333 113.77777777777777 L 469.3333333333333 398.22222222222223 L 469.3333333333333 398.22222222222223 Q 468.44444444444446 411.55555555555554 455.1111111111111 412.44444444444446 L 56.888888888888886 412.44444444444446 L 56.888888888888886 412.44444444444446 Q 43.55555555555556 411.55555555555554 42.666666666666664 398.22222222222223 L 42.666666666666664 113.77777777777777 L 42.666666666666664 113.77777777777777 Q 43.55555555555556 100.44444444444444 56.888888888888886 99.55555555555556 L 455.1111111111111 99.55555555555556 L 455.1111111111111 99.55555555555556 Z M 56.888888888888886 56.888888888888886 Q 32.888888888888886 57.77777777777778 16.88888888888889 73.77777777777777 L 16.88888888888889 73.77777777777777 L 16.88888888888889 73.77777777777777 Q 0.8888888888888888 89.77777777777777 0 113.77777777777777 L 0 398.22222222222223 L 0 398.22222222222223 Q 0.8888888888888888 422.22222222222223 16.88888888888889 438.22222222222223 Q 32.888888888888886 454.22222222222223 56.888888888888886 455.1111111111111 L 455.1111111111111 455.1111111111111 L 455.1111111111111 455.1111111111111 Q 479.1111111111111 454.22222222222223 495.1111111111111 438.22222222222223 Q 511.1111111111111 422.22222222222223 512 398.22222222222223 L 512 113.77777777777777 L 512 113.77777777777777 Q 511.1111111111111 89.77777777777777 495.1111111111111 73.77777777777777 Q 479.1111111111111 57.77777777777778 455.1111111111111 56.888888888888886 L 56.888888888888886 56.888888888888886 L 56.888888888888886 56.888888888888886 Z M 184.88888888888889 256 Q 216.88888888888889 255.11111111111111 233.77777777777777 227.55555555555554 Q 249.77777777777777 199.11111111111111 233.77777777777777 170.66666666666666 Q 216.88888888888889 143.11111111111111 184.88888888888889 142.22222222222223 Q 152.88888888888889 143.11111111111111 136 170.66666666666666 Q 120 199.11111111111111 136 227.55555555555554 Q 152.88888888888889 255.11111111111111 184.88888888888889 256 L 184.88888888888889 256 Z M 156.44444444444446 284.44444444444446 Q 126.22222222222223 285.3333333333333 105.77777777777777 304.8888888888889 L 105.77777777777777 304.8888888888889 L 105.77777777777777 304.8888888888889 Q 86.22222222222223 325.3333333333333 85.33333333333333 355.55555555555554 Q 86.22222222222223 368.8888888888889 99.55555555555556 369.77777777777777 L 270.22222222222223 369.77777777777777 L 270.22222222222223 369.77777777777777 Q 283.55555555555554 368.8888888888889 284.44444444444446 355.55555555555554 Q 283.55555555555554 325.3333333333333 264 304.8888888888889 Q 243.55555555555554 285.3333333333333 213.33333333333334 284.44444444444446 L 156.44444444444446 284.44444444444446 L 156.44444444444446 284.44444444444446 Z M 334.22222222222223 156.44444444444446 Q 314.6666666666667 158.22222222222223 312.8888888888889 177.77777777777777 Q 314.6666666666667 197.33333333333334 334.22222222222223 199.11111111111111 L 405.3333333333333 199.11111111111111 L 405.3333333333333 199.11111111111111 Q 424.8888888888889 197.33333333333334 426.6666666666667 177.77777777777777 Q 424.8888888888889 158.22222222222223 405.3333333333333 156.44444444444446 L 334.22222222222223 156.44444444444446 L 334.22222222222223 156.44444444444446 Z M 334.22222222222223 241.77777777777777 Q 314.6666666666667 243.55555555555554 312.8888888888889 263.1111111111111 Q 314.6666666666667 282.6666666666667 334.22222222222223 284.44444444444446 L 405.3333333333333 284.44444444444446 L 405.3333333333333 284.44444444444446 Q 424.8888888888889 282.6666666666667 426.6666666666667 263.1111111111111 Q 424.8888888888889 243.55555555555554 405.3333333333333 241.77777777777777 L 334.22222222222223 241.77777777777777 L 334.22222222222223 241.77777777777777 Z" />
							</svg>
						</a>
					</li>
					<hr class="border-t border-t-stone-300 mx-6" />
					<li>
						<a href="/signout" data-turbo-method="delete"
							 class="font-sans px-6 py-3 text-base text-gray-700 hover:bg-gray-100 flex items-center justify-between">
							<span class="font-bold">Sign Out</span>
							<svg xmlns="http://www.w3.org/2000/svg" height="1em" fill="currentColor" class="text-stone-500"
									 viewBox="0 0 512 512">
								<path
											d="M 284.44444444444446 57.77777777777778 Q 284.44444444444446 43.55555555555556 273.77777777777777 35.55555555555556 Q 262.22222222222223 27.555555555555557 248.88888888888889 30.22222222222222 L 88.88888888888889 70.22222222222223 L 88.88888888888889 70.22222222222223 Q 74.66666666666667 73.77777777777777 65.77777777777777 85.33333333333333 Q 56.888888888888886 96.88888888888889 56.888888888888886 112 L 56.888888888888886 427.55555555555554 L 56.888888888888886 427.55555555555554 L 28.444444444444443 427.55555555555554 L 28.444444444444443 427.55555555555554 Q 16 427.55555555555554 8 435.55555555555554 Q 0 443.55555555555554 0 456 Q 0 468.44444444444446 8 476.44444444444446 Q 16 484.44444444444446 28.444444444444443 484.44444444444446 L 85.33333333333333 484.44444444444446 L 284.44444444444446 484.44444444444446 L 284.44444444444446 456 L 284.44444444444446 456 L 284.44444444444446 57.77777777777778 L 284.44444444444446 57.77777777777778 Z M 227.55555555555554 256.8888888888889 Q 227.55555555555554 269.3333333333333 221.33333333333334 277.3333333333333 L 221.33333333333334 277.3333333333333 L 221.33333333333334 277.3333333333333 Q 215.11111111111111 285.3333333333333 206.22222222222223 285.3333333333333 Q 197.33333333333334 285.3333333333333 191.11111111111111 277.3333333333333 Q 184.88888888888889 269.3333333333333 184.88888888888889 256.8888888888889 Q 184.88888888888889 244.44444444444446 191.11111111111111 236.44444444444446 Q 197.33333333333334 228.44444444444446 206.22222222222223 228.44444444444446 Q 215.11111111111111 228.44444444444446 221.33333333333334 236.44444444444446 Q 227.55555555555554 244.44444444444446 227.55555555555554 256.8888888888889 L 227.55555555555554 256.8888888888889 Z M 312.8888888888889 143.11111111111111 L 398.22222222222223 143.11111111111111 L 312.8888888888889 143.11111111111111 L 398.22222222222223 143.11111111111111 L 398.22222222222223 456 L 398.22222222222223 456 Q 398.22222222222223 468.44444444444446 406.22222222222223 476.44444444444446 Q 414.22222222222223 484.44444444444446 426.6666666666667 484.44444444444446 L 483.55555555555554 484.44444444444446 L 483.55555555555554 484.44444444444446 Q 496 484.44444444444446 504 476.44444444444446 Q 512 468.44444444444446 512 456 Q 512 443.55555555555554 504 435.55555555555554 Q 496 427.55555555555554 483.55555555555554 427.55555555555554 L 455.1111111111111 427.55555555555554 L 455.1111111111111 427.55555555555554 L 455.1111111111111 143.11111111111111 L 455.1111111111111 143.11111111111111 Q 454.22222222222223 119.11111111111111 438.22222222222223 103.11111111111111 Q 422.22222222222223 87.11111111111111 398.22222222222223 86.22222222222223 L 312.8888888888889 86.22222222222223 L 312.8888888888889 86.22222222222223 L 312.8888888888889 143.11111111111111 L 312.8888888888889 143.11111111111111 Z" />
							</svg>
						</a>
					</li>
				</ul>
				<div class="h-[1px]"></div>
			</div>
		</div>
	</div>

	<div class="flex flex-col gap-5 bg-white px-4 pb-3" id="chats-container" data-controller="chats">
		<%= render partial: "rooms/chat", collection: @room.chats %>
	</div>

	<%= render partial: "rooms/chat_input" %>
</div>

<%= turbo_stream_from [ @room ] %>